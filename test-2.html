<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Animation</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            color: #333;
            overflow-x: hidden;
            background: #ffffff;
            transition: background 0.5s ease;
        }

        .scroll-container {
            width: 100%;
            position: relative;
        }

        .step {
            min-height: 100vh;
            padding: 5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .content {
            width: 45%;
            opacity: 0;
            transform: translateY(50px);
        }

        .visual {
            width: 45%;
            height: 300px;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: scale(0.9);
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
        }

        /* Progress indicator */
        .progress-indicator {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ccc;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .progress-dot.active {
            background: #333;
            transform: scale(1.3);
        }

        .progress-dot::after {
            content: attr(data-step);
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .progress-dot:hover::after {
            opacity: 1;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .step {
                flex-direction: column;
                padding: 2rem;
            }
            
            .content, .visual {
                width: 100%;
            }
            
            .visual {
                height: 200px;
                margin-top: 2rem;
            }
            
            .progress-indicator {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="scroll-container">
        <section class="step step-1" data-bg-color="#ff9a9e">
            <div class="content">
                <h2>Step 1: Discover</h2>
                <p>Explore our innovative solutions designed to solve your problems. Our platform helps you discover new opportunities and streamline your workflow.</p>
            </div>
            <div class="visual" data-color="#fad0c4"></div>
        </section>
        
        <section class="step step-2" data-bg-color="#a1c4fd">
            <div class="content">
                <h2>Step 2: Connect</h2>
                <p>Connect with our network of professionals and like-minded individuals. Build meaningful relationships that help you grow your business.</p>
            </div>
            <div class="visual" data-color="#c2e9fb"></div>
        </section>
        
        <section class="step step-3" data-bg-color="#84fab0">
            <div class="content">
                <h2>Step 3: Implement</h2>
                <p>Put our tools to work with our easy-to-follow implementation guide. Get up and running quickly with minimal setup required.</p>
            </div>
            <div class="visual" data-color="#8fd3f4"></div>
        </section>
        
        <section class="step step-4" data-bg-color="#a6c1ee">
            <div class="content">
                <h2>Step 4: Grow</h2>
                <p>Watch your business expand with our analytics and optimization tools. Continuous improvement is built into our platform.</p>
            </div>
            <div class="visual" data-color="#fbc2eb"></div>
        </section>
    </div>
    
    <!-- GSAP and ScrollTrigger CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Register ScrollTrigger plugin
            gsap.registerPlugin(ScrollTrigger);
            
            // Create progress dots
            const steps = document.querySelectorAll('.step');
            const progressContainer = document.createElement('div');
            progressContainer.className = 'progress-indicator';
            
            steps.forEach((step, index) => {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                dot.dataset.step = index + 1;
                dot.setAttribute('data-step', `Step ${index + 1}`);
                
                // Click handler for dots
                dot.addEventListener('click', () => {
                    gsap.to(window, {
                        scrollTo: {
                            y: step,
                            offsetY: 100
                        },
                        duration: 1
                    });
                });
                
                progressContainer.appendChild(dot);
            });
            
            document.body.appendChild(progressContainer);
            const progressDots = document.querySelectorAll('.progress-dot');
            
            // Animate content and visuals for each step
            steps.forEach((step, index) => {
                const content = step.querySelector('.content');
                const visual = step.querySelector('.visual');
                const bgColor = step.getAttribute('data-bg-color');
                const visualColor = visual.getAttribute('data-color');
                
                // Set initial visual color
                visual.style.background = visualColor;
                
                // Content animation
                gsap.to(content, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    scrollTrigger: {
                        trigger: step,
                        start: "top 60%",
                        toggleActions: "play none none none"
                    }
                });
                
                // Visual animation
                gsap.to(visual, {
                    opacity: 1,
                    scale: 1,
                    duration: 0.8,
                    scrollTrigger: {
                        trigger: step,
                        start: "top 60%",
                        toggleActions: "play none none none"
                    }
                });
                
                // Background color change
                ScrollTrigger.create({
                    trigger: step,
                    start: "top center",
                    end: "bottom center",
                    onEnter: () => {
                        document.body.style.background = bgColor;
                        progressDots.forEach(dot => dot.classList.remove('active'));
                        progressDots[index].classList.add('active');
                    },
                    onEnterBack: () => {
                        document.body.style.background = bgColor;
                        progressDots.forEach(dot => dot.classList.remove('active'));
                        progressDots[index].classList.add('active');
                    }
                });
            });
            
            // Additional animations for visual elements
            steps.forEach(step => {
                const visual = step.querySelector('.visual');
                
                // Continuous animation while in view
                ScrollTrigger.create({
                    trigger: visual,
                    start: "top 80%",
                    end: "bottom 20%",
                    onEnter: () => {
                        gsap.to(visual, {
                            y: -20,
                            duration: 2,
                            yoyo: true,
                            repeat: -1,
                            ease: "sine.inOut"
                        });
                    },
                    onLeave: () => {
                        gsap.killTweensOf(visual);
                        gsap.to(visual, { y: 0, duration: 0.5 });
                    },
                    onLeaveBack: () => {
                        gsap.killTweensOf(visual);
                        gsap.to(visual, { y: 0, duration: 0.5 });
                    }
                });
            });
        });
    </script>
</body>
</html>